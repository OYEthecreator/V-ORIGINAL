<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TIME-FOLD JACKET | ECLIPSE - Buy Now</title>
    <link href="https://unpkg.com/aos@2.3.4/dist/aos.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
        rel="stylesheet">
    <style>
        /* === TEMPORAL FASHION REALITY - QUANTUM GRADE === */
        /* === TEMPORAL FASHION REALITY - COMPLETE PROFESSIONAL VERSION === */
        :root {
            --singularity-black: #000000;
            --solar-flare-orange: #FF4500;
            --time-ember: #FF8C00;
            --quantum-core: #FF6B35;
            --cosmic-void: #0A0A0A;
            --event-horizon: #1A1A1A;
            --supernova-white: #FFFFFF;
            --chronal-glow: 0 0 80px rgba(255, 69, 0, 0.8), 0 0 160px rgba(255, 140, 0, 0.6);
            --temporal-aura: 0 0 200px rgba(255, 107, 53, 0.4);
            --quantum-shadow: 0 0 100px rgba(255, 69, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
            scroll-padding-top: 100px;
        }

        body {
            background:
                radial-gradient(ellipse at 20% 20%, rgba(255, 69, 0, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 80% 80%, rgba(255, 140, 0, 0.15) 0%, transparent 50%),
                radial-gradient(ellipse at 40% 60%, rgba(255, 107, 53, 0.1) 0%, transparent 50%),
                var(--singularity-black);
            color: var(--supernova-white);
            font-family: 'Orbitron', 'Courier New', monospace;
            overflow-x: hidden;
            min-height: 100vh;
            line-height: 1.6;
            font-weight: 500;
            padding: 0;
        }

        /* === QUANTUM NAVIGATION SYSTEM === */

        .chronal-nav {
            display: flex;
            align-items: center;
            gap: 2rem;
            padding: 1rem 2.5rem;
            background: rgba(10, 10, 10, 0.9);
            backdrop-filter: blur(40px) saturate(180%);
            border: 1px solid var(--solar-flare-orange);
            border-radius: 50px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3), 0 0 30px var(--solar-flare-orange);
            position: fixed;
            top: 1.5rem;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1000;
            min-width: 600px;
        }

        .chronal-nav li {
            list-style-type: none;
        }

        .chronal-nav li a {
            color: var(--platinum);
            text-decoration: none;
            font-size: 0.9rem;
            font-weight: 500;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
            overflow: hidden;
            background: transparent;
            border: 1px solid transparent;
            display: block;
        }

        .chronal-nav li a::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 0, 128, 0.1), transparent);
            transition: left 0.6s;
        }

        .chronal-nav li a:hover {
            color: var(--neon-fuchsia);
            background: rgba(255, 0, 128, 0.1);
            border: 1px solid var(--solar-flare-orange);
            transform: translateY(-2px);
            box-shadow: 0 5px 20px var(--solar-flare-orange);
        }

        .chronal-nav li a:hover::before {
            left: 100%;
        }

        .time-portal {
            background: linear-gradient(135deg, var(--neon-fuchsia) 0%, var(--electric-purple) 100%);
            color: var(--platinum);
            padding: 0.8rem 2rem;
            border-radius: 25px;
            font-size: 0.9rem;
            font-weight: 600;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            border: none;
            margin-left: auto;
            position: relative;
            overflow: hidden;
        }

        .time-portal::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.6s;
        }

        .time-portal:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 30px var(--solar-flare-orange);
            letter-spacing: 0.15em;
        }

        .time-portal:hover::before {
            left: 100%;
        }

        .time-portal:active {
            transform: translateY(0);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .chronal-nav {
                min-width: 90%;
                padding: 0.8rem 1.5rem;
                gap: 1rem;
            }

            .chronal-nav li a {
                font-size: 0.8rem;
                padding: 0.6rem 1rem;
            }

            .time-portal {
                padding: 0.6rem 1.5rem;
                font-size: 0.8rem;
            }
        }

        @media (max-width: 480px) {
            .chronal-nav {
                flex-wrap: wrap;
                justify-content: center;
                gap: 0.8rem;
                padding: 1rem;
            }

            .time-portal {
                margin-left: 0;
                order: -1;
                width: 100%;
                text-align: center;
            }
        }

        .time-portal {
            background: transparent;
            border: none;
            border-radius: 25px;
            color: var(--supernova-white);
            font-weight: 600;
            font-size: 0.9rem;
            text-transform: uppercase;
            letter-spacing: 0.15em;
            cursor: pointer;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            position: relative;
            overflow: hidden;
        }

        .time-portal::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg,
                    transparent,
                    rgba(255, 69, 0, 0.2),
                    transparent);
            transition: left 0.6s ease;
        }

        .time-portal:hover::before {
            left: 100%;
        }

        .time-portal:hover {
            background: rgba(255, 69, 0, 0.1);
            color: var(--solar-flare-orange);
            transform: translateY(-2px);
        }

        /* === QUANTUM SHOPPING CART === */
        .time-capsule-cart {
            position: fixed;
            top: 2rem;
            right: 2rem;
            width: 60px;
            height: 60px;
            background: var(--event-horizon);
            border: 1px solid rgba(255, 69, 0, 0.4);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            z-index: 1001;
            transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            backdrop-filter: blur(20px);
        }

        .time-capsule-cart:hover {
            background: rgba(255, 69, 0, 0.1);
            border-color: var(--solar-flare-orange);
            transform: scale(1.1);
            box-shadow: 0 0 30px rgba(255, 69, 0, 0.3);
        }

        .cart-icon {
            font-size: 1.4rem;
            color: var(--solar-flare-orange);
            transition: all 0.3s ease;
        }

        .time-capsule-cart:hover .cart-icon {
            transform: scale(1.1);
        }

        .cart-count {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--solar-flare-orange);
            color: var(--singularity-black);
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            font-weight: 700;
            border: 2px solid var(--event-horizon);
        }

        /* === TEMPORAL INTERFACE === */
        .time-universe {
            min-height: 100vh;
            padding: 120px 2rem 2rem;
            position: relative;
        }

        /* === QUANTUM TIMELINE SCULPTOR === */
        .timeline-sculptor {
            min-height: 10vh;
            position: relative;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            margin: 0 auto;
            max-width: 1400px;

        }

        .time-track {
            position: relative;
            width: 80%;
            height: 2px;
            background: linear-gradient(90deg,
                    transparent 0%,
                    var(--solar-flare-orange) 20%,
                    var(--time-ember) 50%,
                    var(--solar-flare-orange) 80%,
                    transparent 100%);
    
        }

        .time-node {
            position: absolute;
            width: 100px;
            height: 100px;
            background: transparent;
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            transform: translateY(-50%);
            backdrop-filter: blur(20px);
            top: 90%;

        }

        .time-node:hover {
            transform: translateY(-50%) scale(1.15);
        }

        .node-past {
            left: 15%;
        }

        .node-present {
            left: 50%;
            transform: translate(-50%, -50%) scale(1.2);
            z-index: 10;
        }

        .node-future {
            left: 85%;
        }

        .node-icon {
            font-size: 2rem;
            opacity: 0.8;
            transition: all 0.3s ease;
            border: none;
            background: transparent;
        }

        .time-node:hover .node-icon {
            opacity: 1;
            transform: scale(1.1);
        }

        .node-tooltip {
            position: absolute;
            bottom: -60px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--event-horizon);
            border: 1px solid rgba(255, 69, 0, 0.3);
            padding: 0.8rem 1.5rem;
            border-radius: 20px;
            opacity: 0;
            transition: all 0.3s ease;
            white-space: nowrap;
            font-weight: 600;
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            backdrop-filter: blur(20px);
        }

        .time-node:hover .node-tooltip {
            opacity: 1;
            bottom: -50px;
        }

        /* === QUANTUM TIME LAYERS - PERFECTED SPACING === */
        .time-layers {
            position: relative;
            width: 500px;
            height: auto;
            min-height: 650px;
            margin: 100px auto;
            perspective: 2000px;
        }

        .time-layer {
            position: absolute;
            width: 100%;
            height: auto;
            background: transparent;
            border: 1px solid rgba(255, 69, 0, 0.2);
            border-radius: 24px;
            backdrop-filter: blur(40px);
            transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            text-align: center;
            padding: 2rem;
            box-shadow:
                0 20px 40px rgba(0, 0, 0, 0.3),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            gap: 1.5rem;
            margin-bottom: 3rem;
        }

        .time-layer img {
            width: 100%;
            height: auto;
            object-fit: contain;
            border-radius: 12px;
            margin-bottom: 2rem;
        }

        .era-specific-name {
            font-size: 1.4rem;
            font-weight: 600;
            color: var(--time-ember);
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 1rem;
        }

        .layer-past {
            transform: rotateY(-30deg) translateZ(-200px);
            filter: sepia(0.4) brightness(0.9);
            opacity: 0.7;
            z-index: 1;
        }

        .layer-present {
            transform: rotateY(0deg) translateZ(0px);
            border-color: rgba(255, 69, 0, 0.4);
            box-shadow:
                0 25px 50px rgba(0, 0, 0, 0.4),
                0 0 60px rgba(255, 69, 0, 0.2);
            opacity: 1;
            z-index: 2;
        }

        .layer-future {
            transform: rotateY(30deg) translateZ(-200px);
            filter: hue-rotate(60deg) brightness(1.1);
            opacity: 0.7;
            z-index: 1;
        }

        .era-title {
            font-size: 2.2rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            margin-bottom: 0;
            background: linear-gradient(135deg, #FFF, #FF8C00);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            line-height: 1.2;
        }

        .era-description {
            font-size: 1rem;
            line-height: 1.6;
            opacity: 0.9;
            margin-bottom: 0;
            max-width: 300px;
            color: var(--supernova-white);
            font-weight: 500;
        }

        .era-price {
            font-size: 2.2rem;
            font-weight: 700;
            color: var(--solar-flare-orange);
        }


        /* === FIXED CHECKOUT POPUP === */
        .popup-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            backdrop-filter: blur(40px);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 10000;
        }

        .popup-content {
            background: rgba(26, 26, 26, 0.95);
            border: 1px solid rgba(255, 69, 0, 0.3);
            border-radius: 24px;
            padding: 3rem;
            width: 90%;
            max-width: 500px;
            backdrop-filter: blur(40px);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.4);
            position: relative;
        }

        .popup-content h2 {
            color: var(--solar-flare-orange);
            text-align: center;
            margin-bottom: 2rem;
            font-size: 2rem;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .popup-content input,
        .popup-content select {
            width: 100%;
            padding: 1rem 1.2rem;
            margin-bottom: 1.5rem;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 69, 0, 0.3);
            border-radius: 12px;
            color: var(--supernova-white);
            font-size: 1rem;
            transition: all 0.3s ease;
            font-family: inherit;
        }

        .popup-content input:focus,
        .popup-content select:focus {
            outline: none;
            border-color: var(--solar-flare-orange);
            background: rgba(255, 69, 0, 0.1);
        }

        .popup-content button {
            width: 100%;
            padding: 1.2rem;
            background: var(--solar-flare-orange);
            border: none;
            border-radius: 12px;
            color: var(--singularity-black);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 1rem;
            margin-top: 1rem;
        }

        .popup-content button:hover {
            background: var(--time-ember);
            transform: translateY(-2px);
        }

        .close-btn {
            position: absolute;
            top: 1rem;
            right: 1.5rem;
            font-size: 2rem;
            color: var(--solar-flare-orange);
            cursor: pointer;
            transition: all 0.3s ease;
            background: none;
            border: none;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        .close-btn:hover {
            background: rgba(255, 69, 0, 0.1);
            transform: scale(1.1);
        }

        /* === FIXED CART OVERLAY - PERFECTLY MATCHED THEME === */
        #cart-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.98);
            backdrop-filter: blur(40px);
            display: none;
            z-index: 9999;
            overflow-y: auto;
            padding: 3rem 2rem;
        }

        #close-cart {
            color: var(--solar-flare-orange);
            font-size: 2.5rem;
            cursor: pointer;
            position: absolute;
            top: 1.5rem;
            right: 2rem;
            transition: all 0.3s ease;
            background: none;
            border: none;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
        }

        #close-cart:hover {
            background: rgba(255, 69, 0, 0.1);
            transform: scale(1.1);
        }

        #cart-items {
            color: var(--supernova-white);
            margin-bottom: 2rem;
            max-width: 800px;
            margin: 0 auto;
        }

        #cart-total {
            color: var(--solar-flare-orange);
            text-align: right;
            font-size: 1.8rem;
            font-weight: 700;
            margin-top: 2rem;
            max-width: 800px;
            margin: 2rem auto;
            padding: 1rem;
            background: rgba(255, 69, 0, 0.1);
            border-radius: 12px;
            border: 1px solid rgba(255, 69, 0, 0.3);
        }

        #cart-overlay #buy-now {
            display: block;
            margin: 2rem auto;
            padding: 1.2rem 3rem;
            font-size: 1.1rem;
            background: var(--solar-flare-orange);
            color: var(--singularity-black);
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            max-width: 800px;
        }

        #cart-overlay #buy-now:hover {
            background: var(--time-ember);
            transform: translateY(-2px);
            box-shadow: 0 0 30px rgba(255, 69, 0, 0.3);
        }

        /* === QUANTUM PURCHASE INTERFACE === */
        .purchase-interface {
            position: relative;
            width: 100%;
            background: rgba(10, 10, 10, 0.95);
            backdrop-filter: blur(40px);
            border-top: 2px solid rgba(255, 69, 0, 0.3);
            border-bottom: 2px solid rgba(255, 69, 0, 0.3);
            padding: 2rem;
            margin-top: 3rem;
            box-shadow: 0 -10px 40px rgba(0, 0, 0, 0.8), 0 10px 40px rgba(0, 0, 0, 0.8), 0 0 60px rgba(255, 69, 0, 0.2);
        }

        .purchase-interface.active {
            transform: translateY(0);
        }

        .purchase-grid {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr 1fr;
            gap: 2rem;
            max-width: 1200px;
            margin: 0 auto;
            align-items: center;
        }

        .size-options {
            display: flex;
            gap: 0.8rem;
        }

        .size-option {
            padding: 0.8rem 1.2rem;
            background: transparent;
            border: 1px solid rgba(255, 69, 0, 0.3);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            font-weight: 600;
            font-size: 0.8rem;
        }

        .size-option:hover,
        .size-option.selected {
            background: rgba(255, 69, 0, 0.1);
            border-color: var(--solar-flare-orange);
            color: var(--solar-flare-orange);
        }

        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .quantity-btn {
            width: 40px;
            height: 40px;
            background: transparent;
            border: 1px solid rgba(255, 69, 0, 0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quantity-btn:hover {
            border-color: var(--solar-flare-orange);
            background: rgba(255, 69, 0, 0.1);
        }

        .quantity-display {
            font-size: 1.1rem;
            font-weight: 600;
            min-width: 30px;
            text-align: center;
        }

        .purchase-action {
            display: flex;
            gap: 1rem;
        }

        #add-to-cart,
        #buy-now {
            padding: 1.1rem 2.5rem;
            border: none;
            border-radius: 12px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.12em;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            font-size: 0.95rem;
        }

        #add-to-cart {
            background: rgba(255, 69, 0, 0.1);
            border: 2px solid rgba(255, 69, 0, 0.6);
            color: var(--solar-flare-orange);
            box-shadow: 0 0 20px rgba(255, 69, 0, 0.2);
        }

        #add-to-cart:hover {
            background: rgba(255, 69, 0, 0.2);
            border-color: var(--solar-flare-orange);
            box-shadow: 0 0 30px rgba(255, 69, 0, 0.4);
            transform: translateY(-2px);
        }

        #buy-now {
            background: linear-gradient(135deg, var(--solar-flare-orange) 0%, #ff6600 100%);
            color: var(--singularity-black);
            box-shadow: 0 4px 20px rgba(255, 69, 0, 0.4);
        }

        #buy-now:hover {
            background: linear-gradient(135deg, #ff6600 0%, var(--solar-flare-orange) 100%);
            transform: translateY(-3px);
            box-shadow: 0 6px 30px rgba(255, 69, 0, 0.6);
        }

        /* === QUANTUM FEATURES GRID === */
        .features-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 2rem;
            max-width: 1200px;
            margin: 100px auto;
            padding: 3rem;
            background: rgba(26, 26, 26, 0.8);
            border: 1px solid rgba(255, 69, 0, 0.1);
            border-radius: 24px;
            backdrop-filter: blur(40px);
            margin-top: 25%;
        }

        .feature-card {
            background: rgba(255, 255, 255, 0.02);
            border: 1px solid rgba(255, 69, 0, 0.1);
            border-radius: 16px;
            padding: 2rem;
            transition: all 0.4s ease;
            cursor: pointer;
        }

        .feature-card:hover {
            background: rgba(255, 69, 0, 0.05);
            border-color: rgba(255, 69, 0, 0.3);
            transform: translateY(-5px);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            text-align: center;
            opacity: 0.8;
        }

        .feature-title {
            font-size: 1.1rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 0.8rem;
            text-align: center;
        }

        .feature-desc {
            font-size: 0.9rem;
            line-height: 1.5;
            opacity: 0.7;
            text-align: center;
        }

        /* === TIME CONTROLS === */
        .time-controls {
            position: fixed;
            bottom: 3rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 1.5rem;
            z-index: 999;
        }

        .time-dial {
            width: 60px;
            height: 60px;
            background: var(--event-horizon);
            border: 1px solid rgba(255, 69, 0, 0.3);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            backdrop-filter: blur(20px);
        }

        .time-dial:hover {
            border-color: var(--solar-flare-orange);
            background: rgba(255, 69, 0, 0.1);
            transform: scale(1.1);
        }

        .dial-icon {
            font-size: 1.5rem;
            opacity: 0.7;
            transition: all 0.3s ease;
        }

        .time-dial:hover .dial-icon {
            opacity: 1;
        }

        /* === PRODUCT EXTRA FEATURES === */
        .product-extra-features {
            grid-column: 1 / -1;
            margin-top: 3rem;
            padding-top: 3rem;
            border-top: 1px solid rgba(255, 69, 0, 0.1);
        }

        .badge {
            display: inline-block;
            padding: 0.5rem 1rem;
            background: var(--solar-flare-orange);
            color: var(--singularity-black);
            font-weight: 700;
            font-size: 0.8rem;
            border-radius: 8px;
            margin-right: 1rem;
            margin-bottom: 1rem;
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .badge.limited-edition {
            background: var(--time-ember);
        }

        .stock-info {
            font-size: 1rem;
            color: var(--solar-flare-orange);
            margin: 1rem 0;
            font-weight: 600;
        }

        .quantity-selector {
            display: flex;
            align-items: center;
            margin: 1.5rem 0;
        }

        .quantity-selector button {
            width: 40px;
            height: 40px;
            background: transparent;
            border: 1px solid rgba(255, 69, 0, 0.3);
            color: var(--supernova-white);
            cursor: pointer;
            font-size: 1.2rem;
            transition: all 0.3s ease;
        }

        .quantity-selector button:hover {
            border-color: var(--solar-flare-orange);
            background: rgba(255, 69, 0, 0.1);
        }

        .quantity-selector input {
            width: 60px;
            text-align: center;
            margin: 0 0.5rem;
            border: 1px solid rgba(255, 69, 0, 0.3);
            background: transparent;
            padding: 0.5rem;
            font-size: 1rem;
            color: var(--supernova-white);
            border-radius: 8px;
        }

        .product-variants h3 {
            margin-top: 1.5rem;
            margin-bottom: 0.8rem;
            font-weight: 600;
            color: var(--solar-flare-orange);
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .color-options,
        .material-options {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .color-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            border: 2px solid rgba(255, 69, 0, 0.3);
            transition: all 0.3s ease;
        }

        .color-option:hover {
            transform: scale(1.2);
            border-color: var(--solar-flare-orange);
        }

        .material-option {
            padding: 0.6rem 1.2rem;
            border: 1px solid rgba(255, 69, 0, 0.3);
            background: transparent;
            cursor: pointer;
            border-radius: 8px;
            transition: all 0.3s ease;
            color: var(--supernova-white);
            font-size: 0.9rem;
        }

        .material-option:hover {
            background: rgba(255, 69, 0, 0.1);
            border-color: var(--solar-flare-orange);
        }

        /* === TIME STREAM EFFECTS === */
        .time-stream {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .stream-particle {
            position: absolute;
            width: 2px;
            height: 2px;
            background: var(--solar-flare-orange);
            border-radius: 50%;
            animation: timeFlow linear infinite;
        }

        @keyframes timeFlow {
            0% {
                transform: translateY(-100px) rotate(0deg);
                opacity: 0;
            }

            10% {
                opacity: 1;
            }

            90% {
                opacity: 1;
            }

            100% {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }

        @media (max-width: 1024px) {
            .chronal-nav {
                min-width: 90%;
                padding: 1rem 1.5rem;
                gap: 1.5rem;
                border-radius: 40px;
                top: 1rem;
            }

            .timeline-sculptor {
                margin-top: 80px;
            }

            .time-track {
                width: 90%;
                margin: 100px 0;
            }

            .time-layers {
                width: 85%;
                height: 580px;
                margin: 80px auto;
            }

            .time-layer {
                padding: 1.5rem;
                height: 160%;
            }

            .time-layer img {
                width: 110%;
                height: 750px;
            }

            .era-title {
                font-size: 1.9rem;
            }

            .era-description {
                font-size: 0.95rem;
                max-width: 280px;
            }

            .features-grid {
                margin-top: 150px;
                padding: 2.5rem;
            }

            .purchase-grid {
                grid-template-columns: 1fr 1fr;
                gap: 1.5rem;
                max-width: 700px;
            }

            .purchase-action {
                grid-column: span 2;
                justify-content: center;
            }
        }

        @media (max-width: 768px) {
            .chronal-nav {
                min-width: 95%;
                padding: 0.8rem 1.2rem;
                gap: 1rem;
                flex-wrap: wrap;
                justify-content: center;
                top: 0.8rem;
            }

            .chronal-nav li a {
                font-size: 0.75rem;
                padding: 0.6rem 1rem;
            }

            .time-portal {
                padding: 0.6rem 1.2rem;
                font-size: 0.75rem;
                margin-left: 0;
                order: -1;
                width: 100%;
                text-align: center;
            }

            .time-capsule-cart {
                width: 50px;
                height: 50px;
                top: 1rem;
                right: 1rem;
            }

            .cart-icon {
                font-size: 1.2rem;
            }

            .cart-count {
                width: 20px;
                height: 20px;
                font-size: 0.7rem;
            }

            .time-universe {
                padding: 100px 1rem 180px;
            }

            .timeline-sculptor {
                margin-top: 60px;
            }

            .time-track {
                width: 95%;
                margin: 80px 0;
            }

            .time-node {
                width: 70px;
                height: 70px;
            }

            .node-icon {
                font-size: 1.8rem;
            }

            .node-tooltip {
                font-size: 0.7rem;
                padding: 0.6rem 1rem;
                white-space: normal;
                min-width: 120px;
                text-align: center;
            }

            .time-layers {
                width: 95%;
                height: 500px;
                margin: 60px auto;
            }

            .time-layer {
                height: 150%;
                padding: 1.2rem;
                gap: 1rem;
            }

            .time-layer img {
                width: 100%;
                height: 600px;
            }

            .era-title {
                font-size: 1.6rem;
            }

            .era-specific-name {
                font-size: 1.1rem;
            }

            .era-description {
                font-size: 0.9rem;
                max-width: 250px;
            }

            .era-price {
                font-size: 1.8rem;
            }

            .features-grid {
                grid-template-columns: 1fr;
                margin-top: 120px;
                padding: 2rem 1.5rem;
                gap: 1.5rem;
            }

            .feature-card {
                padding: 1.5rem;
            }

            .feature-icon {
                font-size: 2rem;
            }

            .feature-title {
                font-size: 1rem;
            }

            .feature-desc {
                font-size: 0.85rem;
            }

            .time-controls {
                bottom: 1.5rem;
                gap: 1rem;
            }

            .time-dial {
                width: 50px;
                height: 50px;
            }

            .dial-icon {
                font-size: 1.3rem;
            }

            .purchase-interface {
                padding: 1.2rem 1rem;
            }

            .purchase-grid {
                grid-template-columns: 1fr;
                gap: 1.2rem;
                max-width: 500px;
            }

            .size-options {
                justify-content: center;
                flex-wrap: wrap;
                gap: 0.6rem;
            }

            .size-option {
                padding: 0.7rem 1rem;
                font-size: 0.75rem;
            }

            .quantity-selector {
                justify-content: center;
            }

            .current-price {
                text-align: center;
                font-size: 1.6rem;
            }

            .purchase-action {
                flex-direction: column;
                gap: 0.8rem;
                grid-column: span 1;
            }

            #add-to-cart,
            #buy-now {
                width: 100%;
                padding: 1rem;
                font-size: 0.9rem;
            }

            .popup-content {
                width: 90%;
                padding: 2rem;
                margin: 1rem;
            }

            .popup-content h2 {
                font-size: 1.5rem;
            }

            .close-btn {
                font-size: 1.8rem;
                top: 0.8rem;
                right: 1rem;
            }

            #cart-overlay {
                padding: 2rem 1rem;
            }

            .back-btn-fixed {
                top: 1rem;
                left: 1rem;
                padding: 0.6rem 1rem;
                font-size: 0.85rem;
            }
        }

        @media (max-width: 480px) {
            .chronal-nav {
                padding: 0.7rem 1rem;
                gap: 0.8rem;
                border-radius: 30px;
            }

            .chronal-nav li a {
                font-size: 0.65rem;
                padding: 0.5rem 0.8rem;
            }

            .time-portal {
                padding: 0.5rem 1rem;
                font-size: 0.65rem;
            }

            .time-universe {
                padding: 90px 0.8rem 180px;
            }

            .timeline-sculptor {
                margin-top: 50px;
            }

            .time-node {
                width: 60px;
                height: 60px;
            }

            .node-icon {
                font-size: 1.5rem;
            }

            .time-layers {
                height: 450px;
            }

            .time-layer {
                height: 140%;
                padding: 1rem;
            }

            .time-layer img {
                height: 500px;
            }

            .era-title {
                font-size: 1.4rem;
            }

            .era-specific-name {
                font-size: 1rem;
            }

            .era-description {
                font-size: 0.85rem;
                max-width: 220px;
            }

            .era-price {
                font-size: 1.6rem;
            }

            .features-grid {
                padding: 1.5rem 1rem;
                margin-top: 100px;
            }

            .feature-card {
                padding: 1.2rem;
            }

            .time-controls {
                bottom: 1rem;
                gap: 0.8rem;
            }

            .time-dial {
                width: 45px;
                height: 45px;
            }

            .purchase-interface {
                padding: 1rem 0.8rem;
            }

            .size-option {
                padding: 0.6rem 0.8rem;
                font-size: 0.7rem;
            }

            .current-price {
                font-size: 1.4rem;
            }

            .popup-content {
                width: 95%;
                padding: 1.5rem;
            }

            .popup-content h2 {
                font-size: 1.3rem;
            }

            .popup-content input,
            .popup-content select,
            .popup-content button {
                padding: 0.9rem;
                font-size: 0.95rem;
            }

            .time-capsule-cart {
                width: 45px;
                height: 45px;
                top: 0.8rem;
                right: 0.8rem;
            }

            .back-btn-fixed {
                top: 0.8rem;
                left: 0.8rem;
                padding: 0.5rem 0.8rem;
                font-size: 0.8rem;
            }
        }

        @media (max-width: 360px) {
            .chronal-nav li a {
                font-size: 0.6rem;
                padding: 0.4rem 0.6rem;
            }

            .time-portal {
                padding: 0.4rem 0.8rem;
                font-size: 0.6rem;
            }

            .time-layers {
                height: 400px;
            }

            .time-layer img {
                height: 450px;
            }

            .era-title {
                font-size: 1.2rem;
            }

            .era-description {
                font-size: 0.8rem;
                max-width: 200px;
            }

            .features-grid {
                padding: 1.2rem 0.8rem;
            }

            .feature-title {
                font-size: 0.95rem;
            }

            .purchase-grid {
                gap: 1rem;
            }

            .size-options {
                gap: 0.5rem;
            }

            .size-option {
                padding: 0.5rem 0.7rem;
                font-size: 0.65rem;
            }
        }
    </style>
</head>

<body>
    <!-- üîí FIXED GOLD LUXURY BACK BUTTON -->
    <style>
        .back-btn-fixed {
            position: fixed;
            top: 22px;
            left: 22px;
            z-index: 10000;
            background: rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 69, 0, 0.4);
            font-size: 15px;
            font-weight: 500;
            cursor: pointer;
            padding: 10px 16px;
            border-radius: 50px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            color: #ff4500;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            box-shadow: 0 4px 15px rgba(255, 69, 0, 0.2);
        }

        .back-btn-fixed:hover {
            background: rgba(255, 69, 0, 0.15);
            border-color: #ff4500;
            transform: translateX(-3px);
            box-shadow: 0 6px 20px rgba(255, 69, 0, 0.3);
        }

        .back-btn-fixed svg {
            width: 18px;
            height: 18px;
            stroke: #ff4500;
            transition: transform 0.3s ease;
        }

        .back-btn-fixed:hover svg {
            transform: translateX(-2px);
        }

        /* ===== RESPONSIVE DESIGN ===== */

        /* Tablet (768px - 1024px) */
        @media screen and (max-width: 1024px) {
            .chronal-nav {
                min-width: 90%;
                padding: 0.8rem 1.5rem;
                gap: 1.5rem;
            }

            .time-layers {
                width: 90%;
                height: 550px;
            }

            .purchase-grid {
                grid-template-columns: 1fr 1fr;
                gap: 1.5rem;
            }

            .features-grid {
                grid-template-columns: 1fr;
                padding: 2rem;
            }
        }

        /* Mobile (max-width: 767px) */
        @media screen and (max-width: 767px) {
            .chronal-nav {
                min-width: 95%;
                padding: 0.6rem 1rem;
                gap: 1rem;
                flex-wrap: wrap;
                justify-content: center;
            }

            .chronal-nav li a {
                font-size: 10px;
                padding: 8px 12px;
            }

            .time-portal {
                padding: 8px 16px;
                font-size: 11px;
            }

            .time-universe {
                padding: 100px 15px 180px;
            }

            .timeline-sculptor {
                padding: 20px 15px;
            }

            .time-node {
                width: 50px;
                height: 50px;
            }

            .node-icon {
                font-size: 1.5rem;
            }

            .node-tooltip {
                font-size: 0.8rem;
                padding: 6px 10px;
            }

            .time-layers {
                width: 95%;
                height: 450px;
                margin: 50px auto;
            }

            .time-layer {
                padding: 1rem;
            }

            .time-layer img {
                width: 100%;
                height: auto;
                max-height: 400px;
            }

            .era-title {
                font-size: 1.8rem;
            }

            .era-description {
                font-size: 0.9rem;
            }

            .era-price {
                font-size: 1.8rem;
            }

            .features-grid {
                grid-template-columns: 1fr;
                padding: 2rem 15px;
            }

            .feature-card {
                padding: 1.5rem;
            }

            .feature-icon {
                font-size: 2rem;
            }

            .feature-title {
                font-size: 1rem;
            }

            .feature-desc {
                font-size: 0.85rem;
            }

            .time-controls {
                bottom: 2rem;
                gap: 1rem;
            }

            .time-dial {
                width: 50px;
                height: 50px;
            }

            .dial-icon {
                font-size: 1.2rem;
            }

            /* Purchase Interface Responsive */
            .purchase-interface {
                padding: 1rem 15px;
            }

            .purchase-grid {
                grid-template-columns: 1fr;
                gap: 1rem;
            }

            .size-options {
                justify-content: center;
                flex-wrap: wrap;
            }

            .size-option {
                padding: 0.6rem 1rem;
                font-size: 0.75rem;
            }

            .quantity-selector {
                justify-content: center;
            }

            .current-price {
                text-align: center;
                font-size: 1.5rem;
            }

            .purchase-action {
                flex-direction: column;
                gap: 10px;
            }

            #add-to-cart,
            #buy-now {
                width: 100%;
                padding: 14px;
                font-size: 0.9rem;
            }

            /* Popup Responsive */
            .popup-overlay {
                padding: 15px;
            }

            .popup-content {
                width: 95%;
                max-width: 95%;
                padding: 20px;
            }

            .popup-content h2 {
                font-size: 1.5rem;
            }

            .popup-content input,
            .popup-content select {
                padding: 12px;
                font-size: 1rem;
            }

            .popup-content button {
                padding: 14px;
                font-size: 1rem;
            }

            .close-btn {
                font-size: 28px;
                top: 10px;
                right: 10px;
            }

            /* Cart Overlay */
            #cart-overlay {
                padding: 20px 15px;
            }

            .cart-item {
                grid-template-columns: 1fr;
                text-align: center;
                gap: 10px;
            }

            /* Time Capsule Cart */
            .time-capsule-cart {
                width: 55px;
                height: 55px;
                bottom: 20px;
                right: 20px;
            }

            .cart-icon-eclipse {
                font-size: 1.3rem;
            }

            /* Back Button */
            .back-btn-fixed {
                top: 15px;
                left: 15px;
                padding: 8px 12px;
                font-size: 14px;
            }

            .back-btn-fixed svg {
                width: 16px;
                height: 16px;
            }
        }

        /* Small Mobile (max-width: 480px) */
        @media screen and (max-width: 480px) {
            .time-layers {
                height: 400px;
            }

            .time-layer img {
                max-height: 300px;
            }

            .era-title {
                font-size: 1.5rem;
            }

            .era-price {
                font-size: 1.5rem;
            }

            .chronal-nav li a {
                font-size: 9px;
                padding: 6px 10px;
            }

            .time-portal {
                padding: 6px 12px;
                font-size: 10px;
            }

            .popup-content {
                width: 98%;
                padding: 15px;
            }

            .time-dial {
                width: 45px;
                height: 45px;
            }
        }
    </style>

    <button class="back-btn-fixed" onclick="goBack()">
        <svg fill="none" viewBox="0 0 24 24" stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
        </svg>
        Back
    </button>

    <script>
        function goBack() {
            if (document.referrer) {
                window.history.back();
            } else {
                window.location.href = "/"; // fallback home
            }
        }
    </script>

    <!-- Time Stream Effects -->
    <div class="time-stream" id="timeStream"></div>
    <!-- TIME CAPSULE BRAND PAGE -->

    <!-- Shopping Cart -->
    <div class="time-capsule-cart" onclick="togglePurchaseInterface()">
        <div class="cart-icon">üõí</div>
        <div class="cart-count">0</div>
    </div>


    <!-- Main Content -->
    <div class="time-universe">
        <!-- Timeline Sculpting Interface -->
        <section class="timeline-sculptor" id="timeline">
            <div class="time-track"></div>

            <!-- Time Nodes -->
            <div class="time-node node-past" onclick="activateEra('past')">
                <div class="node-icon">üèõÔ∏è</div>
                <img src="" alt="">
                <div class="node-tooltip">ANCIENT ERA - $890</div>
            </div>

            <div class="time-node node-present" onclick="activateEra('present')">
                <div class="node-icon">‚ö°</div>
                <img src="" alt="">
                <div class="node-tooltip">PRESENT MOMENT - $1,250</div>
            </div>

            <div class="time-node node-future" onclick="activateEra('future')">
                <div class="node-icon">üöÄ</div>
                <img src="" alt="">
                <div class="node-tooltip">FUTURE GHOST - $2,150</div>
            </div>

            <!-- Time Layers Display -->
            <div class="time-layers">
                <div class="time-layer layer-past">
                    <div class="era-title">PAST ECHO</div>
                    <div class="era-specific-name" id="past-era-name"></div>
                    <img src="" alt="">
                    <div class="era-description">Vintage edition with historical craftsmanship</div>
                    <div class="era-price">$890</div>
                </div>
                <div class="time-layer layer-present">
                    <div class="era-specific-name" id="present-era-name"></div>
                    <div class="era-title">PRESENT</div>
                    <img src="" alt="">
                    <div class="era-description">Current timeline edition with quantum threading</div>
                    <div class="era-price">$1,250</div>
                </div>
                <div class="time-layer layer-future">
                    <div class="era-title"></div>
                    <div class="era-specific-name" id="future-era-name"></div>
                    <img src="" alt="">
                    <div class="era-description">3024 edition with self-repairing nano-fibers</div>
                    <div class="era-price">$2,150</div>
                </div>
            </div>
        </section><br><br><br><br>

        <!-- Popup -->
        <div id="buy-popup" class="popup-overlay">
            <div class="popup-content">
                <span id="close-popup" class="close-btn">&times;</span>
                <h2>Checkout</h2>
                <input id="full-name" placeholder="Full Name">
                <input id="address" placeholder="Address">
                <input id="city" placeholder="City">
                <input id="phone" placeholder="Phone Number">
                <button onclick="confirmPurchase()">Confirm Purchase</button>
                <select id="shipping-method">
                    <option value="standard">Standard ($0)</option>
                    <option value="express">Express ($3,000)</option>
                    <option value="premium">Premium ($5,000)</option>
                </select>

            </div>

        </div>

        <!-- Features Grid -->
        <section class="features-grid" id="features">

            <div class="feature-card" onclick="openFeature('material-explorer')">
                <div class="feature-icon">üîç</div>
                <div class="feature-title">Temporal Material Scanner</div>
                <div class="feature-desc">Explore the evolution of fabric properties through time</div>
            </div>

            <div class="feature-card" onclick="openFeature('style-suggestions')">
                <div class="feature-icon">üí´</div>
                <div class="feature-title">Era Sync Suggestions</div>
                <div class="feature-desc">Discover looks that fit each era's aesthetic frequency</div>
            </div>

            <div class="feature-card" onclick="openFeature('size-predictor')">
                <div class="feature-icon">üìè</div>
                <div class="feature-title">Dimensional Fit Predictor</div>
                <div class="feature-desc">Calculate your perfect fit across all timelines</div>
            </div>
        </section>
    </div>

    <!-- Time Manipulation Controls -->
    <div class="time-controls">
        <div class="time-dial" onclick="rewindTime()">
            <div class="dial-icon">‚è™</div>
        </div>
        <div class="time-dial" onclick="pauseTime()">
            <div class="dial-icon">‚è∏Ô∏è</div>
        </div>
        <div class="time-dial" onclick="fastForward()">
            <div class="dial-icon">‚è©</div>
        </div>
        <div class="time-dial" onclick="createParadox()">
            <div class="dial-icon">üåÄ</div>
        </div>
    </div>

    <!-- Purchase Interface -->
    <div class="purchase-interface" id="purchaseInterface">
        <div class="purchase-grid">
            <div class="size-options">
                <div class="size-option" onclick="selectSize('XS')">XS</div>
                <div class="size-option" onclick="selectSize('S')">S</div>
                <div class="size-option selected" onclick="selectSize('M')">M</div>
                <div class="size-option" onclick="selectSize('L')">L</div>
                <div class="size-option" onclick="selectSize('XL')">XL</div>
            </div>

            <div class="quantity-selector">
                <div class="quantity-btn" onclick="changeQuantity(-1)">-</div>
                <div class="quantity-display" id="quantityDisplay">1</div>
                <div class="quantity-btn" onclick="changeQuantity(1)">+</div>
            </div>

            <div class="current-price" id="currentPrice">$1,250</div>

            <div class="purchase-action">

                <button id="add-to-cart">Add to time capsule</button>
                <button id="buy-now">Buy Across Time</button>
            </div>
        </div>
    </div>
    <div id="cart-overlay">
        <span id="close-cart">&times;</span>
        <h1 style="text-align: center; margin-bottom: 1rem;  color: var(--solar-flare-orange);">
            <img src="./images/eclipse official logo 2.png" alt="">
        </h1>
        <div id="cart-items"></div>
        <div id="cart-total"></div>
        <button id="buy-now" style="display: block; margin: 2rem auto; padding: 1.2rem 3rem; 
           background: var(--solar-flare-orange); color: var(--singularity-black); 
           border: none; border-radius: 12px; cursor: pointer; font-weight: 700;
           text-transform: uppercase; letter-spacing: 0.1em;">
            Buy Across Time
        </button>
    </div>

    <!-- Purchase Effects -->
    <div class="time-purchase-effect" id="purchaseEffect"></div>
    <!-- Gravity Cursor -->
    <div class="gravity-cursor"></div>

    <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>
    <script src="product.js"></script>
    <script>
        // Shopping State
        let cartCount = 0;
        let currentEra = 'present';
        let currentSize = 'M';
        let currentQuantity = 1;
        const eraPrices = {
            'past': 890,
            'present': 1250,
            'future': 2150
        };

        // Initialize
        document.addEventListener("DOMContentLoaded", function () {
            AOS.init({ once: false, duration: 1500, delay: 200 });
            createTimeParticles();
            updatePrice();
            populateEraNames(); // ADD THIS LINE
        });

        // NEW FUNCTION: Populate era names from product data
        function populateEraNames() {
            const productData = JSON.parse(localStorage.getItem("selectedProduct"));
            if (!productData || !productData["era-sync-suggestions"]) return;

            const eras = productData["era-sync-suggestions"];

            // Populate era-specific names
            document.getElementById('past-era-name').textContent = eras[0].title;
            document.getElementById('present-era-name').textContent = eras[1].title;
            document.getElementById('future-era-name').textContent = eras[2].title;

            // Update tooltips with correct names and prices
            document.querySelector('.node-past .node-tooltip').textContent =
                eras[0].title + " - " + eras[0].price;
            document.querySelector('.node-present .node-tooltip').textContent =
                eras[1].title + " - " + eras[1].price;
            document.querySelector('.node-future .node-tooltip').textContent =
                eras[2].title + " - " + eras[2].price;
        }

        // Shopping Functions
        function togglePurchaseInterface() {
            const interface = document.getElementById('purchaseInterface');
            interface.classList.toggle('active');
        }

        function selectSize(size) {
            currentSize = size;
            document.querySelectorAll('.size-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            event.target.classList.add('selected');
        }

        function changeQuantity(change) {
            currentQuantity = Math.max(1, currentQuantity + change);
            document.getElementById('quantityDisplay').textContent = currentQuantity;
            updatePrice();
        }

        function updatePrice() {
            const price = eraPrices[currentEra] * currentQuantity;
            document.getElementById('currentPrice').textContent = `$${price}`;
        }

        // KEEP ALL EXISTING TIME FUNCTIONS
        function activateEra(era) {
            currentEra = era;
            const layers = document.querySelectorAll('.time-layer');
            layers.forEach(layer => layer.style.opacity = '0.3');

            const activeLayer = document.querySelector(`.layer-${era}`);
            activeLayer.style.opacity = '1';
            activeLayer.style.transform = 'rotateY(0deg) translateZ(0px) scale(1.1)';
            activeLayer.style.zIndex = '3';

            if (era !== 'past') {
                document.querySelector('.layer-past').style.transform = 'rotateY(-45deg) translateZ(-200px)';
                document.querySelector('.layer-past').style.zIndex = '1';
            }
            if (era !== 'present') {
                document.querySelector('.layer-present').style.transform = 'rotateY(0deg) translateZ(0px)';
                document.querySelector('.layer-present').style.zIndex = '2';
            }
            if (era !== 'future') {
                document.querySelector('.layer-future').style.transform = 'rotateY(45deg) translateZ(-200px)';
                document.querySelector('.layer-future').style.zIndex = '1';
            }

            updatePrice();
        }

        function rewindTime() {
            document.querySelector('.time-layers').style.transform = 'scale(0.9)';
            setTimeout(() => {
                activateEra('past');
                document.querySelector('.time-layers').style.transform = 'scale(1)';
            }, 300);
        }

        function fastForward() {
            document.querySelector('.time-layers').style.transform = 'scale(1.1)';
            setTimeout(() => {
                activateEra('future');
                document.querySelector('.time-layers').style.transform = 'scale(1)';
            }, 300);
        }

        // Keep all other existing functions...
        function createTimeParticles() {
            const stream = document.getElementById('timeStream');
            for (let i = 0; i < 50; i++) {
                const particle = document.createElement('div');
                particle.className = 'stream-particle';
                particle.style.left = Math.random() * 100 + 'vw';
                particle.style.animationDuration = (Math.random() * 5 + 3) + 's';
                particle.style.animationDelay = Math.random() * 5 + 's';
                particle.style.opacity = Math.random() * 0.7 + 0.3;
                stream.appendChild(particle);
            }
        }

        const gravityCursor = document.querySelector('.gravity-cursor');
        document.addEventListener('mousemove', (e) => {
            gravityCursor.style.left = e.clientX - 30 + 'px';
            gravityCursor.style.top = e.clientY - 30 + 'px';
        });

        // ... all other existing functions remain

        document.body.style.overflow = 'auto';
        document.body.style.height = 'auto';

        (function () {
            'use strict';

            // -----------------------
            // State from localStorage
            // -----------------------
            const cartCountEl = document.getElementById('cart-count');
            let cartCount = parseInt(localStorage.getItem('cartCount')) || 0;
            if (cartCountEl) cartCountEl.textContent = cartCount;

            // key: cartItems
            let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

            // -----------------------
            // Helper utilities - FIXED CART COUNT
            // -----------------------
            function saveCartToStorage() {
                localStorage.setItem('cartItems', JSON.stringify(cartItems));

                // FIXED: Calculate total quantity properly
                const totalQuantity = cartItems.reduce((total, item) => total + (item.qty || 0), 0);
                localStorage.setItem('cartCount', totalQuantity);

                cartCount = totalQuantity;

                // UPDATE ALL CART COUNT ELEMENTS
                const cartCountElements = document.querySelectorAll('.cart-count, #cart-count');
                cartCountElements.forEach(el => {
                    el.textContent = totalQuantity;
                });
            }

            function parsePriceText(priceText) {
                // Accepts "‚Ç¶15,000", "$15,000.00", "15,000" etc -> returns number 15000
                if (!priceText) return 0;
                const numeric = String(priceText).replace(/[^\d.,-]/g, '');
                // Remove commas
                return parseFloat(numeric.replace(/,/g, '')) || 0;
            }

            function formatCurrency(amount, symbol = '‚Ç¶') {
                return symbol + Number(amount || 0).toLocaleString();
            }

            // -----------------------
            // ADD TO CART - FIXED PRODUCT DETAILS
            // -----------------------
            const addToCartBtn = document.getElementById('add-to-cart');
            if (addToCartBtn) {
                addToCartBtn.addEventListener('click', () => {
                    const productData = JSON.parse(localStorage.getItem("selectedProduct"));
                    let name, priceText, currencySymbol, price, image;

                    if (productData && productData["era-sync-suggestions"]) {
                        // Use era-specific data
                        const eras = productData["era-sync-suggestions"];
                        const currentEraIndex = currentEra === 'past' ? 0 : currentEra === 'present' ? 1 : 2;
                        name = eras[currentEraIndex].title;
                        priceText = eras[currentEraIndex].price;
                    } else {
                        // Fallback to generic data
                        name = document.getElementById('dynamic-title')?.textContent.trim() || 'Product';
                        priceText = document.getElementById('dynamic-price')?.textContent.trim() || '$0';
                    }

                    currencySymbol = priceText.match(/[^\d,.\s]/)?.[0] || '$';
                    price = parsePriceText(priceText);
                    image = document.querySelector(`.layer-${currentEra} img`)?.src || 'https://via.placeholder.com/80';
                    const quantity = parseInt(document.getElementById('quantity-input')?.value) || 1;
                    const size = document.querySelector('.size-option.selected')?.textContent.trim() || 'M';

                    let existingItem = cartItems.find(item => item.name === name && item.size === size);
                    if (existingItem) {
                        existingItem.qty += quantity;
                    } else {
                        cartItems.push({
                            id: 'product-' + Date.now(),
                            name: name,
                            price: price,
                            currency: currencySymbol,
                            qty: quantity,
                            size: size,
                            image: image,
                            era: currentEra // Store era for reference
                        });
                    }

                    saveCartToStorage();
                    alert(`‚úÖ Added ${quantity} x "${name}" (Size: ${size}) to cart!`);
                });
            }

            // -----------------------
            // CART UI: FIXED RENDER WITH PROPER DETAILS
            // -----------------------
            const cartIcon = document.querySelector('.cart-icon');
            const cartOverlay = document.getElementById('cart-overlay');
            const closeCartBtn = document.getElementById('close-cart');
            const cartItemsEl = document.getElementById('cart-items');
            const cartTotalEl = document.getElementById('cart-total');

            function renderCart() {
                if (!cartItemsEl) return;
                if (cartItems.length === 0) {
                    cartItemsEl.innerHTML = '<p style="text-align:center; font-size:1.2rem; color:var(--solar-flare-orange);">Your temporal cart is empty.</p>';
                    if (cartTotalEl) cartTotalEl.textContent = '';
                    const cartBuy = document.getElementById('buy-now');
                    if (cartBuy && cartOverlay && cartOverlay.contains(cartBuy)) cartBuy.style.display = 'block';

                    // UPDATE ALL CART COUNTS TO 0
                    document.querySelectorAll('.cart-count, #cart-count').forEach(el => el.textContent = '0');
                    return;
                }

                let total = 0;
                cartItemsEl.innerHTML = cartItems.map(item => {
                    total += item.price * item.qty;
                    return `
      <div class="cart-item" data-id="${item.id}" style="
         display:grid; grid-template-columns:80px 2fr 1fr 1fr auto;
         align-items:center; gap:10px; background:var(--event-horizon); padding:15px;
         border-left:5px solid var(--solar-flare-orange); margin-bottom:15px; border-radius:8px;">
         <img src="${item.image}" alt="${item.name}" style="width:70px;height:70px;object-fit:cover;border-radius:6px;border:1px solid var(--solar-flare-orange);">
         <div style="color:var(--supernova-white);">
           <strong>${item.name}</strong><br>
           <small style="color:var(--time-ember)">Size: ${item.size}</small><br>
           <small style="color:var(--quantum-core)">Price: ${item.currency}${item.price.toLocaleString()}</small><br>
           <small style="color:var(--time-ember)">Era: ${item.era?.toUpperCase() || 'PRESENT'}</small>
         </div>
         <div style="color:var(--supernova-white);text-align:center;">Qty: ${item.qty}</div>
         <div style="color:var(--solar-flare-orange);text-align:center;">${item.currency}${(item.price * item.qty).toLocaleString()}</div>
         <button class="remove-item" data-id="${item.id}" style="background:none;border:1px solid var(--solar-flare-orange);color:var(--solar-flare-orange);padding:5px 10px;border-radius:5px;cursor:pointer;">Remove</button>
      </div>
      `;
                }).join('');

                if (cartTotalEl) cartTotalEl.textContent = `Total: ${cartItems[0]?.currency || '$'}${total.toLocaleString()}`;

                // FIXED: Update all cart count elements
                const totalQuantity = cartItems.reduce((total, item) => total + (item.qty || 0), 0);
                document.querySelectorAll('.cart-count, #cart-count').forEach(el => {
                    el.textContent = totalQuantity;
                });

                // add remove listeners
                document.querySelectorAll('.remove-item').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const id = e.target.dataset.id;
                        cartItems = cartItems.filter(it => it.id !== id);
                        saveCartToStorage();
                        renderCart();
                    });
                    btn.addEventListener('mouseover', () => { btn.style.background = 'var(--solar-flare-orange)'; btn.style.color = 'var(--singularity-black)'; });
                    btn.addEventListener('mouseout', () => { btn.style.background = 'none'; btn.style.color = 'var(--solar-flare-orange)'; });
                });

                // hover for cart items
                document.querySelectorAll('.cart-item').forEach(ci => {
                    ci.addEventListener('mouseover', () => { ci.style.background = 'rgba(255, 69, 0, 0.1)'; ci.style.transform = 'scale(1.02)'; });
                    ci.addEventListener('mouseout', () => { ci.style.background = 'var(--event-horizon)'; ci.style.transform = 'scale(1)'; });
                });
            }

            // cart fade open/close (preserve)
            if (cartIcon && cartOverlay) {
                cartIcon.addEventListener('click', () => {
                    cartOverlay.style.display = 'block';
                    cartOverlay.style.opacity = 0;
                    let op = 0;
                    const fadeIn = setInterval(() => {
                        if (op >= 1) { clearInterval(fadeIn); return; }
                        op += 0.05;
                        cartOverlay.style.opacity = op;
                    }, 15);
                    renderCart();
                });
            }
            if (closeCartBtn) closeCartBtn.addEventListener('click', () => {
                let op = 1;
                const fadeOut = setInterval(() => {
                    if (op <= 0) { clearInterval(fadeOut); cartOverlay.style.display = 'none'; return; }
                    op -= 0.05;
                    cartOverlay.style.opacity = op;
                }, 15);
            });

            // -----------------------
            // BUY NOW popup + shipping fees + confirm
            // -----------------------
            let popupOverlay = document.getElementById('buy-popup');
            if (!popupOverlay) {
                popupOverlay = document.createElement('div');
                popupOverlay.id = 'buy-popup';
                popupOverlay.style.position = 'fixed';
                popupOverlay.style.inset = '0';
                popupOverlay.style.display = 'none';
                popupOverlay.style.alignItems = 'center';
                popupOverlay.style.justifyContent = 'center';
                popupOverlay.style.background = 'rgba(0,0,0,0.6)';
                popupOverlay.style.zIndex = '99999';
                document.body.appendChild(popupOverlay);
            }

            function showLuxuryConfirmation(orderSummaryText, maskedPaymentText, expectedDelivery) {
                const conf = document.createElement('div');
                conf.style.position = 'fixed';
                conf.style.top = '50%';
                conf.style.left = '50%';
                conf.style.transform = 'translate(-50%, -50%)';
                conf.style.background = 'rgba(0,0,0,0.98)';
                conf.style.border = '2px solid var(--solar-flare-orange)';
                conf.style.color = 'var(--solar-flare-orange)';
                conf.style.padding = '28px';
                conf.style.borderRadius = '12px';
                conf.style.zIndex = '100000';
                conf.style.textAlign = 'center';
                conf.style.fontFamily = 'Poppins, sans-serif';
                conf.style.boxShadow = '0 12px 30px rgba(0,0,0,0.6)';
                conf.style.opacity = '1';
                conf.style.minWidth = '320px';

                const orderRef = 'REF-' + Date.now().toString(36).toUpperCase().slice(-8); // generate reference

                conf.innerHTML = `
    <button id="u-conf-close" style="position:absolute;top:10px;right:12px;font-size:24px;color:var(--solar-flare-orange);background:none;border:none;cursor:pointer;">&times;</button>
    <div style="font-size:44px; line-height:1;">‚ú®</div>
    <h3 style="margin:10px 0 6px 0;">Congratulations ‚Äî Order Placed</h3>
    <p style="margin:6px 0 12px 0;color:var(--time-ember);">${orderSummaryText}</p>
    <p style="margin:6px 0 8px 0;font-size:0.95rem;">${maskedPaymentText}</p>
    <p style="margin:6px 0 10px 0;font-size:0.95rem;">Expected delivery: <strong>${expectedDelivery}</strong></p>
    <p style="margin:6px 0 0 0;font-size:0.95rem;">Reference Code: <strong style="color:#ff66e5">${orderRef}</strong></p>
  `;
                document.body.appendChild(conf);

                // Close only on √ó click
                const confCloseBtn = conf.querySelector('#u-conf-close');
                confCloseBtn.addEventListener('click', () => {
                    if (conf.parentNode) conf.parentNode.removeChild(conf);
                });

                // Save order to localStorage
                const storedOrders = JSON.parse(localStorage.getItem('vouxOrders') || '[]');
                storedOrders.push({
                    ref: orderRef,
                    summary: orderSummaryText,
                    payment: maskedPaymentText,
                    expectedDelivery,
                    timestamp: Date.now()
                });
                localStorage.setItem('vouxOrders', JSON.stringify(storedOrders));
            }


            function openBuyNow(items, options = { clearCartOnComplete: false }) {
                if (!popupOverlay) return;
                popupOverlay.innerHTML = '';
                popupOverlay.style.display = 'flex';

                const popup = document.createElement('div');
                popup.className = 'popup-content-lux';
                popup.style.width = '420px';
                popup.style.maxHeight = '90vh';
                popup.style.overflowY = 'auto';
                popup.style.background = 'rgba(0,0,0,0.96)';
                popup.style.border = '2px solid var(--solar-flare-orange)';
                popup.style.borderRadius = '12px';
                popup.style.padding = '22px';
                popup.style.color = 'var(--solar-flare-orange)';
                popup.style.position = 'relative';
                popup.style.boxSizing = 'border-box';
                popup.style.fontFamily = 'Poppins, sans-serif';

                popup.innerHTML = `
    <span id="close-popup-x" style="position:absolute;right:14px;top:10px;cursor:pointer;font-size:18px;color:var(--solar-flare-orange);">&times;</span>
    <h2 style="text-align:center;margin:6px 0 14px 0;">Checkout</h2>

    <form id="buy-now-form" style="display:flex;flex-direction:column;gap:10px;">
      <input id="full-name" placeholder="Full Name" style="padding:10px;border-radius:6px;border:none;background:rgba(255,255,255,0.02);color:var(--supernova-white);">
      <input id="address" placeholder="Address" style="padding:10px;border-radius:6px;border:none;background:rgba(255,255,255,0.02);color:var(--supernova-white);">
      <div style="display:flex;gap:8px;">
        <input id="city" placeholder="City" style="flex:1;padding:10px;border-radius:6px;border:none;background:rgba(255,255,255,0.02);color:var(--supernova-white);">
        <input id="phone" placeholder="Phone Number" style="flex:1;padding:10px;border-radius:6px;border:none;background:rgba(255,255,255,0.02);color:var(--supernova-white);">
      </div>

      <label style="margin-top:6px;color:var(--time-ember);">Shipping Method</label>
      <select id="shipping-method" style="padding:10px;border-radius:6px;border:none;background:rgba(255,255,255,0.02);color:var(--supernova-white);">
        <option value="2000">Standard Shipping (‚Ç¶2,000)</option>
        <option value="5000">Express Shipping (‚Ç¶5,000)</option>
        <option value="8000">Next-Day Shipping (‚Ç¶8,000)</option>
      </select>

      <label style="margin-top:6px;color:var(--time-ember);">Payment Method</label>
      <select id="payment-method" style="padding:10px;border-radius:6px;border:none;background:rgba(255,255,255,0.02);color:var(--supernova-white);">
        <option value="card">Card</option>
        <option value="bank">Bank Transfer</option>
        <option value="pod">Pay on Delivery</option>
      </select>

      <div id="card-fields" style="display:block;">
        <input id="card-number" placeholder="Card Number (xxxx xxxx xxxx xxxx)" style="padding:10px;border-radius:6px;border:none;background:rgba(255,255,255,0.02);color:var(--supernova-white);">
        <div style="display:flex;gap:8px;">
          <input id="card-expiry" placeholder="MM/YY" style="flex:1;padding:10px;border-radius:6px;border:none;background:rgba(255,255,255,0.02);color:var(--supernova-white);">
          <input id="card-cvv" placeholder="CVV" style="width:120px;padding:10px;border-radius:6px;border:none;background:rgba(255,255,255,0.02);color:var(--supernova-white);">
        </div>
      </div>

      <div id="bank-fields" style="display:none;color:var(--time-ember);">
        <p style="margin:6px 0;">Transfer to:</p>
        <p style="margin:6px 0;">Account Name: vouxfashionWorldwide</p>
        <p style="margin:6px 0;">Account Number: <strong>0123456789</strong></p>
        <p style="margin:6px 0;">Bank: Zenith Bank</p>
        <p style="margin:6px 0;font-size:0.9rem;">Use reference: <strong id="bank-reference"></strong></p>
      </div>

      <div id="pod-note" style="display:none;color:var(--time-ember);">
        <p style="margin:6px 0;">Pay when the delivery arrives. A ‚Ç¶1,000 delivery fee may apply on COD.</p>
      </div>

      <div id="order-summary" style="margin-top:6px;color:var(--supernova-white);font-size:0.95rem;"></div>

      <button type="submit" id="confirm-purchase-btn" style="padding:12px;border-radius:8px;border:none;background:var(--solar-flare-orange);color:var(--singularity-black);font-weight:700;cursor:pointer;">Confirm Purchase</button>
    </form>
  `;

                popupOverlay.appendChild(popup);

                const closeX = document.getElementById('close-popup-x');
                if (closeX) closeX.addEventListener('click', () => { popupOverlay.style.display = 'none'; popup.remove(); });

                const paymentSelect = document.getElementById('payment-method');
                paymentSelect.addEventListener('change', (e) => {
                    const val = e.target.value;
                    document.getElementById('card-fields').style.display = (val === 'card') ? 'block' : 'none';
                    document.getElementById('bank-fields').style.display = (val === 'bank') ? 'block' : 'none';
                    document.getElementById('pod-note').style.display = (val === 'pod') ? 'block' : 'none';
                    updateOrderSummary();
                });

                const bankRefEl = document.getElementById('bank-reference');
                bankRefEl.textContent = 'REF-' + Date.now().toString(36).toUpperCase().slice(-8);

                const shippingSelect = document.getElementById('shipping-method');
                let shippingFee = parseInt(shippingSelect.value, 10) || 2000;

                function updateOrderSummary() {
                    const shippingFeeLocal = parseInt(shippingSelect.value, 10) || 2000;
                    shippingFee = shippingFeeLocal;
                    let subtotal = 0;
                    const currency = items[0]?.currency || '$';
                    const lines = items.map(it => {
                        subtotal += it.price * it.qty;
                        return `<div style="margin-bottom:6px;">${it.name} (Size: ${it.size}) x ${it.qty} ‚Üí ${it.currency}${(it.price * it.qty).toLocaleString()}</div>`;
                    }).join('');
                    const podExtra = (document.getElementById('payment-method').value === 'pod') ? 1000 : 0;
                    const total = subtotal + shippingFee + podExtra;
                    document.getElementById('order-summary').innerHTML = `
      ${lines}
      <div style="margin-top:8px;color:var(--time-ember);">Shipping: ${currency}${shippingFee.toLocaleString()}</div>
      ${podExtra ? `<div style="color:var(--time-ember);">COD Fee: ${currency}${podExtra.toLocaleString()}</div>` : ''}
      <div style="margin-top:8px;font-weight:700;">Total: ${currency}${total.toLocaleString()}</div>
    `;
                }

                shippingSelect.addEventListener('change', updateOrderSummary);
                updateOrderSummary();

                const buyNowForm = document.getElementById('buy-now-form');
                buyNowForm.addEventListener('submit', (ev) => {
                    ev.preventDefault();
                    const fullName = document.getElementById('full-name').value.trim();
                    const address = document.getElementById('address').value.trim();
                    const city = document.getElementById('city').value.trim();
                    const phone = document.getElementById('phone').value.trim();
                    const paymentMethod = document.getElementById('payment-method').value;

                    if (!fullName || !address || !city || !phone) {
                        alert('‚ö†Ô∏è Please fill all shipping fields.');
                        return;
                    }
                    if (paymentMethod === 'card') {
                        const card = document.getElementById('card-number').value.trim();
                        const exp = document.getElementById('card-expiry').value.trim();
                        const cvv = document.getElementById('card-cvv').value.trim();
                        if (!card || !exp || !cvv) { alert('‚ö†Ô∏è Please fill card details.'); return; }
                    }

                    let subtotal = items.reduce((s, it) => s + it.price * it.qty, 0);
                    const podExtra = (paymentMethod === 'pod') ? 1000 : 0;
                    const finalTotal = subtotal + shippingFee + podExtra;
                    const currency = items[0]?.currency || '$';

                    let masked = '';
                    if (paymentMethod === 'card') {
                        const card = document.getElementById('card-number').value.trim();
                        masked = 'Card: **** **** **** ' + (card.replace(/\s+/g, '').slice(-4) || 'XXXX');
                    } else if (paymentMethod === 'bank') {
                        masked = 'Bank transfer to: Account 0123456789 (use ref: ' + bankRefEl.textContent + ')';
                    } else {
                        masked = 'Pay on Delivery (COD)';
                    }

                    const orderSummaryText = `Order ${items.length} item(s) ‚Ä¢ Total: ${currency}${finalTotal.toLocaleString()}`;
                    const expectedDelivery = (shippingFee >= 8000) ? (new Date(Date.now() + 24 * 3600 * 1000)).toLocaleDateString()
                        : (shippingFee >= 5000) ? (new Date(Date.now() + 3 * 24 * 3600 * 1000)).toLocaleDateString()
                            : (new Date(Date.now() + 5 * 24 * 3600 * 1000)).toLocaleDateString();

                    showLuxuryConfirmation(orderSummaryText, masked, expectedDelivery);

                    if (options.clearCartOnComplete) {
                        cartItems = [];
                        saveCartToStorage();
                        renderCart();
                    }

                    popup.remove();
                    popupOverlay.style.display = 'none';
                });
            }

            function attachBuyNowHandlers() {
                const allBuyNowBtns = Array.from(document.querySelectorAll('button#buy-now'));
                allBuyNowBtns.forEach(btn => {
                    if (btn._buyNowAttached) return;
                    btn._buyNowAttached = true;

                    btn.addEventListener('click', (e) => {
                        const insideCart = cartOverlay && cartOverlay.contains(btn);
                        if (insideCart) {
                            if (!cartItems || cartItems.length === 0) {
                                alert('üõí Your cart is empty!');
                                return;
                            }
                            openBuyNow([...cartItems], { clearCartOnComplete: true });
                            return;
                        }

                        const productData = JSON.parse(localStorage.getItem("selectedProduct"));
                        let name, priceText, currencySymbol, price, image;

                        if (productData && productData["era-sync-suggestions"]) {
                            const eras = productData["era-sync-suggestions"];
                            const currentEraIndex = currentEra === 'past' ? 0 : currentEra === 'present' ? 1 : 2;
                            name = eras[currentEraIndex].title;
                            priceText = eras[currentEraIndex].price;
                        } else {
                            name = document.getElementById('dynamic-title')?.textContent.trim() || 'Product';
                            priceText = document.getElementById('dynamic-price')?.textContent.trim() || '$0';
                        }

                        currencySymbol = priceText.match(/[^\d,.\s]/)?.[0] || '$';
                        price = parsePriceText(priceText);
                        image = document.querySelector(`.layer-${currentEra} img`)?.src || 'https://via.placeholder.com/80';
                        const qty = parseInt(document.getElementById('quantity-input')?.value) || 1;
                        const size = document.querySelector('.size-option.selected')?.textContent.trim() || 'M';

                        openBuyNow([{ name, price, currency: currencySymbol, qty, size, image }], { clearCartOnComplete: false });
                    });
                });
            }

            attachBuyNowHandlers();

            const productBuySingle = document.getElementById('buy-now-product');
            if (productBuySingle && !productBuySingle._buyNowAttached) {
                productBuySingle.addEventListener('click', () => {
                    const productData = JSON.parse(localStorage.getItem("selectedProduct"));
                    let name, priceText, currencySymbol, price, image;

                    if (productData && productData["era-sync-suggestions"]) {
                        const eras = productData["era-sync-suggestions"];
                        const currentEraIndex = currentEra === 'past' ? 0 : currentEra === 'present' ? 1 : 2;
                        name = eras[currentEraIndex].title;
                        priceText = eras[currentEraIndex].price;
                    } else {
                        name = document.getElementById('dynamic-title')?.textContent.trim() || 'Product';
                        priceText = document.getElementById('dynamic-price')?.textContent.trim() || '$0';
                    }

                    currencySymbol = priceText.match(/[^\d,.\s]/)?.[0] || '$';
                    price = parsePriceText(priceText);
                    image = document.querySelector(`.layer-${currentEra} img`)?.src || 'https://via.placeholder.com/80';
                    const qty = parseInt(document.getElementById('quantity-input')?.value) || 1;
                    const size = document.querySelector('.size-option.selected')?.textContent.trim() || 'M';

                    openBuyNow([{ name, price, currency: currencySymbol, qty, size, image }]);
                });
            }

            renderCart();
        })();
    </script>
</body>

</html>